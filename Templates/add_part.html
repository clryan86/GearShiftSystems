{% extends "base.html" %}
{% block content %}

<a class="btn mb-3" href="{{ url_for('index') }}"
   style="background:#1e293b; color:#38bdf8; border:1px solid #334155;">
  ⚙️ GearShift Systems
</a>

<div class="card">
  <div class="title">Add Part</div>

  <form method="post" class="form-grid">

    <div class="form-row">
      <label for="name">Name</label>
      <input id="name" name="name" class="input" required
             value="{{ (form.get('name') if form else '') | default('', true) }}">
    </div>

    <div class="form-row">
      <label for="sku">SKU</label>
      <input id="sku" name="sku" class="input" required
             value="{{ (form.get('sku') if form else '') | default('', true) }}">
    </div>

    <div class="form-row">
      <label for="price">Price</label>
      <input id="price" name="price" type="number" step="0.01" class="input"
             value="{{ (form.get('price') if form else '') | default('', true) }}">
    </div>

    <div class="form-row">
      <label for="stock">Stock</label>
      <input id="stock" name="stock" type="number" class="input"
             value="{{ (form.get('stock') if form else '') | default('', true) }}">
    </div>

    <div class="form-row">
      <label for="reorder_threshold">Reorder Threshold</label>
      <input id="reorder_threshold" name="reorder_threshold" type="number" class="input"
             value="{{ (form.get('reorder_threshold') if form else '5') | default('5', true) }}">
    </div>

    <div class="form-row">
      <label for="shelf_location">Shelf</label>
      <input id="shelf_location" name="shelf_location" class="input"
             value="{{ (form.get('shelf_location') if form else '') | default('', true) }}">
    </div>

    <div class="form-row">
      <label for="vendor_id">Vendor</label>
      <select id="vendor_id" name="vendor_id" class="input">
        <option value="">— Select —</option>
        {% for v in vendors %}
          <option value="{{ v.id }}"
            {% if form and (form.get('vendor_id')|int == v.id) %}selected{% endif %}>
            {{ v.name }}
          </option>
        {% endfor %}
      </select>
    </div>

    <div class="form-actions">
      <button class="btn btn-primary" type="submit">Add</button>
      <a class="btn" href="{{ url_for('list_parts') }}">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}